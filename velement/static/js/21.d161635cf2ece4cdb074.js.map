{"version":3,"sources":["webpack:///static/js/21.d161635cf2ece4cdb074.js","webpack:///./src/page/planManagement/planCompletionManage.vue","webpack:///planCompletionManage.vue","webpack:///./src/page/planManagement/planCompletionManage.vue?2b33","webpack:///./src/page/planManagement/planCompletionManage.vue?a204","webpack:///./src/page/planManagement/planCompletionManage.vue?cb8f"],"names":["webpackJsonp","150","module","exports","__webpack_require__","injectStyle","ssrContext","Component","309","__webpack_exports__","Object","defineProperty","value","data","totalTableData","tableData","pagination","currentPage","pageSizes","pageSize","total","pages","tableSelectionData","created","_this","this","console","log","$axios","post","window","$config","HOST","customerId","brandId","id","clothingLevelId","startDate","endDate","then","response","forEach","element","addingMode","addingModeName","state","stateName","d","Date","createTime","time","toLocaleString","length","pageEleStart","pageEleEnd","slice","catch","error","methods","handleSizeChange","val","handleSearch","handleCurrentChange","_this2","handleCompletionClick","_this3","that","$message","get","params","name","message","type","tableSelectionChange","432","push","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","479","content","locals","563","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","gutter","staticStyle","margin-right","on","click","_v","width","margin-top","stripe","selection-change","align","label","_e","prop","current-page","page-sizes","page-size","layout","size-change","current-change","update:currentPage","$event","$set","staticRenderFns"],"mappings":"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","file":"static/js/21.d161635cf2ece4cdb074.js","sourcesContent":["webpackJsonp([21],{\n\n/***/ 150:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(479)\n}\nvar Component = __webpack_require__(37)(\n  /* script */\n  __webpack_require__(309),\n  /* template */\n  __webpack_require__(563),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-ef8593e8\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 309:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n// import { rename } from 'fs';\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  data: function data() {\n    return {\n      totalTableData: [],\n      tableData: [],\n\n      pagination: {\n        currentPage: 1,\n        pageSizes: [10, 20, 30, 40, 50],\n        pageSize: 10,\n        total: 0\n      },\n      pages: 0,\n      tableSelectionData: []\n    };\n  },\n\n  created: function created() {\n    var _this = this;\n\n    var that = this;\n    console.log('进入计划完成页面');\n\n    //加载默认所有系列\n    this.$axios.post(window.$config.HOST + \"/infoManagement/getRangeList\", {\n      customerId: \"\",\n      brandId: \"\",\n      id: \"\",\n      clothingLevelId: \"\",\n      startDate: \"\",\n      endDate: \"\"\n    }).then(function (response) {\n      _this.totalTableData = response.data;\n      _this.totalTableData.forEach(function (element) {\n        if (element.addingMode === 1) element.addingModeName = \"手动\";else element.addingModeName = \"导入\";\n\n        if (element.state === 1) element.stateName = \"已制定\";else if (element.state === 2) element.stateName = \"已提交\";else if (element.state === 3) element.stateName = \"被驳回\";else if (element.state === 4) element.stateName = \"已审核\";else if (element.state === 5) element.stateName = \"已下发\";else if (element.state === 6) element.stateName = \"已删除\";\n        var d = new Date(element.createTime);\n        var time = d.toLocaleString();\n        element.createTime = time;\n      });\n\n      _this.pagination.total = _this.totalTableData.length;\n      var pageEleStart = (_this.pagination.currentPage - 1) * _this.pagination.pageSize;\n      var pageEleEnd = pageEleStart + _this.pagination.pageSize > _this.pagination.total ? _this.pagination.total : pageEleStart + _this.pagination.pageSize;\n      _this.tableData = _this.totalTableData.slice(pageEleStart, pageEleEnd);\n    }).catch(function (error) {\n      console.log(\"初始化加载系列失败\");\n    });\n  },\n  methods: {\n    // 每页条数改变时触发函数\n    handleSizeChange: function handleSizeChange(val) {\n      // this.pagination: {\n      //   currentPage: 1,\n      //   pageSizes: [5, 10, 20, 30, 50],\n      //   pageSize: 5,\n      //   total: 400\n      // },\n      this.pagination.pageSize = val;\n      console.log(\"\\u6BCF\\u9875 \" + val + \" \\u6761\");\n\n      this.pagination.currentPage = 1;\n      this.handleSearch();\n    },\n\n    // 当前页码改变时触发函数\n    handleCurrentChange: function handleCurrentChange(val) {\n      console.log(\"\\u5F53\\u524D\\u9875: \" + val);\n      this.pagination.currentPage = val;\n      this.handleSearch();\n    },\n    handleSearch: function handleSearch() {\n      var _this2 = this;\n\n      console.log(\"开始搜索\");\n      this.$axios.post(window.$config.HOST + \"/infoManagement/getRangeList\", {\n        customerId: \"\",\n        brandId: \"\",\n        id: \"\",\n        clothingLevelId: \"\",\n        startDate: \"\",\n        endDate: \"\"\n      }).then(function (response) {\n        _this2.totalTableData = response.data;\n        _this2.totalTableData.forEach(function (element) {\n          if (element.addingMode === 1) element.addingModeName = \"手动\";else element.addingModeName = \"导入\";\n\n          if (element.state === 1) element.stateName = \"已制定\";else if (element.state === 2) element.stateName = \"已提交\";else if (element.state === 3) element.stateName = \"被驳回\";else if (element.state === 4) element.stateName = \"已审核\";else if (element.state === 5) element.stateName = \"已下发\";else if (element.state === 6) element.stateName = \"已删除\";\n          var d = new Date(element.createTime);\n          var time = d.toLocaleString();\n          element.createTime = time;\n        });\n\n        _this2.pagination.total = _this2.totalTableData.length;\n        var pageEleStart = (_this2.pagination.currentPage - 1) * _this2.pagination.pageSize;\n        var pageEleEnd = pageEleStart + _this2.pagination.pageSize > _this2.pagination.total ? _this2.pagination.total : pageEleStart + _this2.pagination.pageSize;\n        _this2.tableData = _this2.totalTableData.slice(pageEleStart, pageEleEnd);\n      }).catch(function (error) {\n        console.log(\"加载系列失败\");\n      });\n    },\n\n    //计划完成按钮点击\n    handleCompletionClick: function handleCompletionClick() {\n      var _this3 = this;\n\n      //this.$set(this.iptDatas[index], `showAlert`, true)\n      var that = this;\n      if (that.tableSelectionData.length === 0) {\n        that.$message.error(\"请选择要删除的计划！\");\n      } else {\n        this.tableSelectionData.forEach(function (element) {\n          _this3.$axios.get(window.$config.HOST + \"/infoManagement/completeRange\", {\n            params: { id: element.id }\n          }).then(function (response) {\n            if (response.data < 0) {\n              _this3.$message.error(element.name + \"添加完成失败\" + \":\" + response.data);\n            } else {\n              console.log(\"完成\" + element.name);\n              _this3.$message({\n                message: element.name + \"已完成\",\n                type: \"success\"\n              });\n              _this3.handleSearch();\n            }\n          }).catch(function (error) {\n            console.log(element.name + \"完成失败\");\n            _this3.$message.error(element.name + \"添加完成失败\");\n          });\n        });\n      }\n    },\n\n\n    //表格选择变化\n    tableSelectionChange: function tableSelectionChange(val) {\n      this.tableSelectionData = val;\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 432:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(123)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".box-card[data-v-ef8593e8]{margin:20px 50px;padding:0 20px}.box-card .bar[data-v-ef8593e8]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%}.box-card .bar .title[data-v-ef8593e8]{font-size:14px;min-width:75px;text-align:center}.box-card .bar .el-input[data-v-ef8593e8],.box-card .bar .el-select[data-v-ef8593e8]{width:300px;min-width:75px}.box-card .block[data-v-ef8593e8]{padding:30px 0;text-align:center}\", \"\", {\"version\":3,\"sources\":[\"/home/titanxu/Desktop/planui/src/page/planManagement/planCompletionManage.vue\"],\"names\":[],\"mappings\":\"AACA,2BACE,iBAAkB,AAClB,cAAgB,CACjB,AACD,gCACE,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,8BAA+B,AAC/B,6BAA8B,AAC1B,uBAAwB,AACpB,mBAAoB,AAC5B,yBAA0B,AACtB,sBAAuB,AACnB,mBAAoB,AAC5B,UAAY,CACb,AACD,uCACE,eAAgB,AAChB,eAAgB,AAChB,iBAAmB,CACpB,AAKD,qFAHE,YAAa,AACb,cAAgB,CAKjB,AACD,kCACE,eAAgB,AAChB,iBAAmB,CACpB\",\"file\":\"planCompletionManage.vue\",\"sourcesContent\":[\"\\n.box-card[data-v-ef8593e8] {\\n  margin: 20px 50px;\\n  padding: 0 20px;\\n}\\n.box-card .bar[data-v-ef8593e8] {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-orient: horizontal;\\n  -webkit-box-direction: normal;\\n      -ms-flex-direction: row;\\n          flex-direction: row;\\n  -webkit-box-align: center;\\n      -ms-flex-align: center;\\n          align-items: center;\\n  width: 100%;\\n}\\n.box-card .bar .title[data-v-ef8593e8] {\\n  font-size: 14px;\\n  min-width: 75px;\\n  text-align: center;\\n}\\n.box-card .bar .el-input[data-v-ef8593e8] {\\n  width: 300px;\\n  min-width: 75px;\\n}\\n.box-card .bar .el-select[data-v-ef8593e8] {\\n  width: 300px;\\n  min-width: 75px;\\n}\\n.box-card .block[data-v-ef8593e8] {\\n  padding: 30px 0;\\n  text-align: center;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 479:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(432);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(124)(\"d2b7ccda\", content, true);\n\n/***/ }),\n\n/***/ 563:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"body\"\n  }, [_c('el-card', {\n    staticClass: \"box-card\"\n  }, [_c('div', [_c('el-row', {\n    attrs: {\n      \"gutter\": 20\n    }\n  }, [_c('el-button', {\n    staticStyle: {\n      \"margin-right\": \"20px\"\n    },\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.handleCompletionClick\n    }\n  }, [_vm._v(\"计划完成\")])], 1), _vm._v(\" \"), _c('el-table', {\n    staticStyle: {\n      \"width\": \"100%\",\n      \"margin-top\": \"20px\"\n    },\n    attrs: {\n      \"data\": _vm.tableData,\n      \"stripe\": true\n    },\n    on: {\n      \"selection-change\": _vm.tableSelectionChange\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"type\": \"selection\",\n      \"width\": \"50\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"type\": \"index\",\n      \"label\": \"序号\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), (false) ? _c('el-table-column', {\n    attrs: {\n      \"prop\": \"id\",\n      \"align\": \"center\"\n    }\n  }) : _vm._e(), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"number\",\n      \"label\": \"系列编号\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"customerName\",\n      \"label\": \"客户名称\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"brandName\",\n      \"label\": \"品牌\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"clothingLevelName\",\n      \"label\": \"服装类型\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"name\",\n      \"width\": \"170\",\n      \"label\": \"系列名称\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"createrName\",\n      \"label\": \"添加人\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"deptName\",\n      \"label\": \"部门\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"createTime\",\n      \"width\": \"170\",\n      \"label\": \"添加时间\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"addingModeName\",\n      \"label\": \"添加方式\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"stateName\",\n      \"label\": \"状态\",\n      \"align\": \"center\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"block\"\n  }, [_c('el-pagination', {\n    attrs: {\n      \"current-page\": _vm.pagination.currentPage,\n      \"page-sizes\": _vm.pagination.pageSizes,\n      \"page-size\": _vm.pagination.pageSize,\n      \"layout\": \"total, sizes, prev, pager, next, jumper\",\n      \"total\": _vm.pagination.total\n    },\n    on: {\n      \"size-change\": _vm.handleSizeChange,\n      \"current-change\": _vm.handleCurrentChange,\n      \"update:currentPage\": function($event) {\n        _vm.$set(_vm.pagination, \"currentPage\", $event)\n      }\n    }\n  })], 1)])], 1)\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/21.d161635cf2ece4cdb074.js","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ef8593e8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./planCompletionManage.vue\")\n}\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./planCompletionManage.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ef8593e8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./planCompletionManage.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-ef8593e8\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/planManagement/planCompletionManage.vue\n// module id = 150\n// module chunks = 21","<template>\n  <div class=\"body\">\n    <el-card class=\"box-card\">\n      <div>\n        <el-row :gutter=\"20\">\n          <el-button type=\"primary\" style=\"margin-right:20px\" @click=\"handleCompletionClick\">计划完成</el-button>\n        </el-row>\n        <el-table\n          :data=\"tableData\"\n          style=\"width: 100%; margin-top: 20px\"\n          @selection-change=\"tableSelectionChange\"\n          :stripe=\"true\"\n        >\n          <el-table-column type=\"selection\" width=\"50\" align=\"center\"></el-table-column>\n          <el-table-column type=\"index\" label=\"序号\" align=\"center\"></el-table-column>\n          <el-table-column v-if=\"false\" prop=\"id\" align=\"center\"></el-table-column>\n          <el-table-column prop=\"number\" label=\"系列编号\" align=\"center\"></el-table-column>\n          <el-table-column prop=\"customerName\" label=\"客户名称\" align=\"center\"></el-table-column>\n          <el-table-column prop=\"brandName\" label=\"品牌\" align=\"center\"></el-table-column>\n          <el-table-column prop=\"clothingLevelName\" label=\"服装类型\" align=\"center\"></el-table-column>\n          <el-table-column prop=\"name\" width=\"170\" label=\"系列名称\" align=\"center\"></el-table-column>\n          <el-table-column prop=\"createrName\" label=\"添加人\" align=\"center\"></el-table-column>\n          <el-table-column prop=\"deptName\" label=\"部门\" align=\"center\"></el-table-column>\n          <el-table-column prop=\"createTime\" width=\"170\" label=\"添加时间\" align=\"center\"></el-table-column>\n          <el-table-column prop=\"addingModeName\" label=\"添加方式\" align=\"center\"></el-table-column>\n          <el-table-column prop=\"stateName\" label=\"状态\" align=\"center\"></el-table-column>\n\n          <!-- <el-table-column fixed=\"right\" label=\"操作\" width=\"50\">\n            <template slot-scope=\"scope\">\n              <el-button type=\"text\" size=\"small\" @click=\"ReCover(scope.$index, scope.row)\">恢复</el-button>\n            </template>\n          </el-table-column>-->\n        </el-table>\n      </div>\n      <div class=\"block\">\n        <el-pagination\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n          :current-page.sync=\"pagination.currentPage\"\n          :page-sizes=\"pagination.pageSizes\"\n          :page-size=\"pagination.pageSize\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          :total=\"pagination.total\"\n        ></el-pagination>\n      </div>\n    </el-card>\n  </div>\n</template>\n\n<script>\n// import { rename } from 'fs';\nexport default {\n  data() {\n    return {\n      totalTableData:[],\n      tableData: [ ],\n      \n      pagination: {\n        currentPage: 1,\n        pageSizes: [10, 20, 30, 40, 50],\n        pageSize: 10,\n        total: 0\n      },\n      pages: 0,\n      tableSelectionData: []\n    };\n  },\n  created: function () {\n    const that = this;\n    console.log('进入计划完成页面');\n\n    //加载默认所有系列\n    this.$axios\n      .post(`${window.$config.HOST}/infoManagement/getRangeList`, {\n        customerId: \"\",\n        brandId: \"\",\n        id: \"\",\n        clothingLevelId: \"\",\n        startDate: \"\",\n        endDate: \"\"\n      })\n      .then(response => {\n        this.totalTableData = response.data;\n        this.totalTableData.forEach(element => {\n          if(element.addingMode===1) element.addingModeName=\"手动\";\n          else element.addingModeName=\"导入\";\n\n          if(element.state===1) element.stateName=\"已制定\";\n          else if(element.state===2) element.stateName=\"已提交\";\n          else if(element.state===3) element.stateName=\"被驳回\";\n          else if(element.state===4) element.stateName=\"已审核\";\n          else if(element.state===5) element.stateName=\"已下发\";\n          else if(element.state===6) element.stateName=\"已删除\";\n          var d = new Date(element.createTime);\n          let time = d.toLocaleString();\n          element.createTime = time;\n        });\n\n        this.pagination.total = this.totalTableData.length;\n        var pageEleStart = (this.pagination.currentPage-1)*this.pagination.pageSize;\n        var pageEleEnd = (pageEleStart+this.pagination.pageSize)> this.pagination.total?this.pagination.total:(pageEleStart+this.pagination.pageSize);\n        this.tableData = this.totalTableData.slice(pageEleStart, pageEleEnd);\n      })\n      .catch(error => {\n        console.log(\"初始化加载系列失败\");\n      });\n  },\n  methods: {\n    // 每页条数改变时触发函数\n    handleSizeChange(val) {\n      // this.pagination: {\n      //   currentPage: 1,\n      //   pageSizes: [5, 10, 20, 30, 50],\n      //   pageSize: 5,\n      //   total: 400\n      // },\n      this.pagination.pageSize = val;\n      console.log(`每页 ${val} 条`);\n\n      this.pagination.currentPage = 1;\n      this.handleSearch();\n    },\n    // 当前页码改变时触发函数\n    handleCurrentChange(val) {\n      console.log(`当前页: ${val}`);\n      this.pagination.currentPage = val;\n      this.handleSearch();\n    },\n    handleSearch(){\n      console.log(\"开始搜索\");\n      this.$axios\n        .post(`${window.$config.HOST}/infoManagement/getRangeList`, {\n          customerId: \"\",\n          brandId: \"\",\n          id: \"\",\n          clothingLevelId: \"\",\n          startDate: \"\",\n          endDate: \"\"\n        })\n        .then(response => {\n          this.totalTableData = response.data;\n          this.totalTableData.forEach(element => {\n            if(element.addingMode===1) element.addingModeName=\"手动\";\n            else element.addingModeName=\"导入\";\n\n            if(element.state===1) element.stateName=\"已制定\";\n            else if(element.state===2) element.stateName=\"已提交\";\n            else if(element.state===3) element.stateName=\"被驳回\";\n            else if(element.state===4) element.stateName=\"已审核\";\n            else if(element.state===5) element.stateName=\"已下发\";\n            else if(element.state===6) element.stateName=\"已删除\";\n            var d = new Date(element.createTime);\n            let time = d.toLocaleString();\n            element.createTime = time;\n          });\n\n          this.pagination.total = this.totalTableData.length;\n          var pageEleStart = (this.pagination.currentPage-1)*this.pagination.pageSize;\n          var pageEleEnd = (pageEleStart+this.pagination.pageSize)> this.pagination.total?this.pagination.total:(pageEleStart+this.pagination.pageSize);\n          this.tableData = this.totalTableData.slice(pageEleStart, pageEleEnd);\n        })\n        .catch(error => {\n          console.log(\"加载系列失败\");\n        });\n    },\n    //计划完成按钮点击\n    handleCompletionClick() {\n      //this.$set(this.iptDatas[index], `showAlert`, true)\n      const that = this;\n      if (that.tableSelectionData.length === 0) {\n        that.$message.error(\"请选择要删除的计划！\");\n      } else {\n        this.tableSelectionData.forEach(element => {\n          this.$axios\n            .get(`${window.$config.HOST}/infoManagement/completeRange`,{\n              params:{id:element.id}\n            })\n            .then(response=>{\n              if(response.data < 0){\n                this.$message.error(element.name+\"添加完成失败\"+\":\"+response.data);\n              }else{\n                console.log(\"完成\"+element.name);\n                this.$message({\n                  message: element.name+\"已完成\",\n                  type: \"success\"\n                });\n                this.handleSearch();\n              }\n            })\n            .catch(error=>{\n              console.log(element.name+\"完成失败\");\n              this.$message.error(element.name+\"添加完成失败\");\n            });\n        });\n      }\n    },\n    \n    //表格选择变化\n    tableSelectionChange(val) {\n      this.tableSelectionData = val;\n    },\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n.box-card {\n  margin: 20px 50px;\n  padding: 0 20px;\n  .bar {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    width: 100%;\n    .title {\n      font-size: 14px;\n      min-width: 75px;\n      text-align: center;\n    }\n    .el-input {\n      width: 300px;\n      min-width: 75px;\n      // margin: 5px 10px;\n    }\n    .el-select {\n      width: 300px;\n      min-width: 75px;\n      // margin: 5px 10px;\n    }\n  }\n  .block {\n    padding: 30px 0;\n    text-align: center;\n    //border-right: solid 1px #EFF2F6;\n    //display: inline-block;\n    //box-sizing: border-box;\n  }\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// planCompletionManage.vue?f72975c0","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".box-card[data-v-ef8593e8]{margin:20px 50px;padding:0 20px}.box-card .bar[data-v-ef8593e8]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%}.box-card .bar .title[data-v-ef8593e8]{font-size:14px;min-width:75px;text-align:center}.box-card .bar .el-input[data-v-ef8593e8],.box-card .bar .el-select[data-v-ef8593e8]{width:300px;min-width:75px}.box-card .block[data-v-ef8593e8]{padding:30px 0;text-align:center}\", \"\", {\"version\":3,\"sources\":[\"/home/titanxu/Desktop/planui/src/page/planManagement/planCompletionManage.vue\"],\"names\":[],\"mappings\":\"AACA,2BACE,iBAAkB,AAClB,cAAgB,CACjB,AACD,gCACE,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,8BAA+B,AAC/B,6BAA8B,AAC1B,uBAAwB,AACpB,mBAAoB,AAC5B,yBAA0B,AACtB,sBAAuB,AACnB,mBAAoB,AAC5B,UAAY,CACb,AACD,uCACE,eAAgB,AAChB,eAAgB,AAChB,iBAAmB,CACpB,AAKD,qFAHE,YAAa,AACb,cAAgB,CAKjB,AACD,kCACE,eAAgB,AAChB,iBAAmB,CACpB\",\"file\":\"planCompletionManage.vue\",\"sourcesContent\":[\"\\n.box-card[data-v-ef8593e8] {\\n  margin: 20px 50px;\\n  padding: 0 20px;\\n}\\n.box-card .bar[data-v-ef8593e8] {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-orient: horizontal;\\n  -webkit-box-direction: normal;\\n      -ms-flex-direction: row;\\n          flex-direction: row;\\n  -webkit-box-align: center;\\n      -ms-flex-align: center;\\n          align-items: center;\\n  width: 100%;\\n}\\n.box-card .bar .title[data-v-ef8593e8] {\\n  font-size: 14px;\\n  min-width: 75px;\\n  text-align: center;\\n}\\n.box-card .bar .el-input[data-v-ef8593e8] {\\n  width: 300px;\\n  min-width: 75px;\\n}\\n.box-card .bar .el-select[data-v-ef8593e8] {\\n  width: 300px;\\n  min-width: 75px;\\n}\\n.box-card .block[data-v-ef8593e8] {\\n  padding: 30px 0;\\n  text-align: center;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-ef8593e8\",\"scoped\":true,\"hasInlineConfig\":false}!./~/less-loader/dist/cjs.js?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/page/planManagement/planCompletionManage.vue\n// module id = 432\n// module chunks = 21","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ef8593e8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/less-loader/dist/cjs.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./planCompletionManage.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"d2b7ccda\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-ef8593e8\",\"scoped\":true,\"hasInlineConfig\":false}!./~/less-loader/dist/cjs.js?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/page/planManagement/planCompletionManage.vue\n// module id = 479\n// module chunks = 21","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"body\"\n  }, [_c('el-card', {\n    staticClass: \"box-card\"\n  }, [_c('div', [_c('el-row', {\n    attrs: {\n      \"gutter\": 20\n    }\n  }, [_c('el-button', {\n    staticStyle: {\n      \"margin-right\": \"20px\"\n    },\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.handleCompletionClick\n    }\n  }, [_vm._v(\"计划完成\")])], 1), _vm._v(\" \"), _c('el-table', {\n    staticStyle: {\n      \"width\": \"100%\",\n      \"margin-top\": \"20px\"\n    },\n    attrs: {\n      \"data\": _vm.tableData,\n      \"stripe\": true\n    },\n    on: {\n      \"selection-change\": _vm.tableSelectionChange\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"type\": \"selection\",\n      \"width\": \"50\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"type\": \"index\",\n      \"label\": \"序号\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), (false) ? _c('el-table-column', {\n    attrs: {\n      \"prop\": \"id\",\n      \"align\": \"center\"\n    }\n  }) : _vm._e(), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"number\",\n      \"label\": \"系列编号\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"customerName\",\n      \"label\": \"客户名称\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"brandName\",\n      \"label\": \"品牌\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"clothingLevelName\",\n      \"label\": \"服装类型\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"name\",\n      \"width\": \"170\",\n      \"label\": \"系列名称\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"createrName\",\n      \"label\": \"添加人\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"deptName\",\n      \"label\": \"部门\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"createTime\",\n      \"width\": \"170\",\n      \"label\": \"添加时间\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"addingModeName\",\n      \"label\": \"添加方式\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"stateName\",\n      \"label\": \"状态\",\n      \"align\": \"center\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"block\"\n  }, [_c('el-pagination', {\n    attrs: {\n      \"current-page\": _vm.pagination.currentPage,\n      \"page-sizes\": _vm.pagination.pageSizes,\n      \"page-size\": _vm.pagination.pageSize,\n      \"layout\": \"total, sizes, prev, pager, next, jumper\",\n      \"total\": _vm.pagination.total\n    },\n    on: {\n      \"size-change\": _vm.handleSizeChange,\n      \"current-change\": _vm.handleCurrentChange,\n      \"update:currentPage\": function($event) {\n        _vm.$set(_vm.pagination, \"currentPage\", $event)\n      }\n    }\n  })], 1)])], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-ef8593e8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/page/planManagement/planCompletionManage.vue\n// module id = 563\n// module chunks = 21"],"sourceRoot":""}
{"version":3,"sources":["webpack:///static/js/16.8b3a79db9f6cb74f2c66.js","webpack:///./src/page/planManagement/predictPlanMade.vue","webpack:///predictPlanMade.vue","webpack:///./src/page/planManagement/predictPlanMade.vue?74b7","webpack:///./src/page/planManagement/predictPlanMade.vue?cc3a","webpack:///./src/page/planManagement/predictPlanMade.vue?d299"],"names":["webpackJsonp","156","module","exports","__webpack_require__","injectStyle","ssrContext","Component","315","__webpack_exports__","Object","defineProperty","value","data","searchOptions","searchParams","customerName","brandName","clothingLevel","rangeName","predictPlanName","dateRange","options","customerNameOptions","brandNameOptions","clothingLevelOptions","rangeNameOptions","planNameOptions","totalTableData","tableData","pages","pagination","currentPage","pageSizes","pageSize","total","created","_this","this","that","console","log","$axios","get","window","$config","HOST","then","response","catch","error","customerId","params","stage","forEach","element","type","state","push","length","pageEleStart","pageEleEnd","slice","methods","handleSizeChange","val","handleSearch","handleCurrentChange","changeDate","date","y","getFullYear","m","getMonth","d","getDate","h","getHours","minute","getMinutes","second","getSeconds","_this2","brandId","id","clothingLevelId","clothingLevelName","startDate","endDate","errcode","inspectDetail","row","param","flag","goback","client","brand","series","plantype","planobj","planObject","TopPlan","parentId","TopPlanName","parentName","planName","name","projectType","number","dataStart","dataEnd","productDate","productDateType","productId","proposal","note","description","$router","405","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","452","content","locals","521","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","margin-top","attrs","gutter","span","_v","clearable","model","callback","$$v","$set","expression","_l","item","key","label","margin-bottom","start-placeholder","end-placeholder","default-time","on","click","width","max-height","stripe","align","_e","prop","fixed","scopedSlots","_u","fn","scope","size","$event","current-page","page-sizes","page-size","layout","size-change","current-change","update:currentPage","staticRenderFns"],"mappings":"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","file":"static/js/16.8b3a79db9f6cb74f2c66.js","sourcesContent":["webpackJsonp([16],{\n\n/***/ 156:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(452)\n}\nvar Component = __webpack_require__(37)(\n  /* script */\n  __webpack_require__(315),\n  /* template */\n  __webpack_require__(521),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-38a54436\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 315:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  data: function data() {\n    return {\n      searchOptions: {\n        searchParams: {\n          customerName: \"\",\n          brandName: \"\",\n          clothingLevel: \"\",\n          rangeName: \"\",\n          predictPlanName: \"\",\n          dateRange: \"\"\n        },\n        options: {\n          customerNameOptions: [],\n          brandNameOptions: [],\n          clothingLevelOptions: [],\n          rangeNameOptions: [],\n          planNameOptions: []\n        }\n      },\n      totalTableData: [],\n      tableData: [],\n      // checked: true,\n      pages: 0,\n      pagination: {\n        currentPage: 1,\n        pageSizes: [10, 20, 30, 40, 50],\n        pageSize: 10,\n        total: 0\n      }\n    };\n  },\n\n  created: function created() {\n    var _this = this;\n\n    var that = this;\n    console.log('进入一提交计划页面');\n\n    //获取客户名称\n    this.$axios.get(window.$config.HOST + \"/baseInfoManagement/getCustomerName\").then(function (response) {\n      _this.searchOptions.options.customerNameOptions = response.data;\n    }).catch(function (error) {\n      console.log(\"初始化获取客户名称失败\");\n    });\n\n    //获取服装层次\n    that.$axios.get(window.$config.HOST + \"/baseInfoManagement/getClothingLevelName\").then(function (response) {\n      _this.searchOptions.options.clothingLevelOptions = response.data;\n    }).catch(function (error) {\n      console.log(\"初始化获取服装层次失败\");\n    });\n\n    //品牌名称选择获取\n    this.$axios.get(window.$config.HOST + \"/baseInfoManagement/getBrandName\", { customerId: null }).then(function (response) {\n      _this.searchOptions.options.brandNameOptions = response.data;\n    }).catch(function (error) {\n      console.log(\"初始化品牌名称选择错误\");\n    });\n\n    //默认获取计划列表\n    this.$axios.get(window.$config.HOST + \"/planManagement/getPlanList\", {\n      params: {\n        stage: \"predict\"\n      }\n    }).then(function (response) {\n      response.data.forEach(function (element) {\n        if (element.type === 1 && element.state === 2) {\n          _this.totalTableData.push(element);\n        }\n      });\n\n      _this.pagination.total = _this.totalTableData.length;\n      // this.pagination.currentPage = 1;\n      var pageEleStart = (_this.pagination.currentPage - 1) * _this.pagination.pageSize;\n      var pageEleEnd = pageEleStart + _this.pagination.pageSize > _this.pagination.total ? _this.pagination.total : pageEleStart + _this.pagination.pageSize;\n      _this.tableData = _this.totalTableData.slice(pageEleStart, pageEleEnd);\n    }).catch(function (error) {\n      console.log(\"初始化计划列表获取错误\");\n    });\n  },\n  methods: {\n    // 每页条数改变时触发函数\n    handleSizeChange: function handleSizeChange(val) {\n      this.pagination.pageSize = val;\n      console.log(\"\\u6BCF\\u9875 \" + val + \" \\u6761\");\n\n      this.pagination.currentPage = 1;\n      this.handleSearch();\n    },\n\n    // 当前页码改变时触发函数\n    handleCurrentChange: function handleCurrentChange(val) {\n      console.log(\"\\u5F53\\u524D\\u9875: \" + val);\n      this.pagination.currentPage = val;\n      this.handleSearch();\n    },\n\n    // 改变日期格式\n    changeDate: function changeDate(date) {\n      if (!date) {\n        return \"\";\n      } else {\n        console.log(date);\n        var y = date.getFullYear();\n        var m = date.getMonth() + 1;\n        m = m < 10 ? \"0\" + m : m;\n        var d = date.getDate();\n        d = d < 10 ? \"0\" + d : d;\n        var h = date.getHours();\n        var minute = date.getMinutes();\n        minute = minute < 10 ? \"0\" + minute : minute;\n        var second = date.getSeconds();\n        second = minute < 10 ? \"0\" + second : second;\n        return y + \"-\" + m + \"-\" + d + \" \" + h + \":\" + minute + \":\" + second;\n      }\n    },\n    handleSearch: function handleSearch() {\n      var _this2 = this;\n\n      var params = {\n        customerId: this.searchOptions.searchParams.customerName === \"\" ? null : this.searchOptions.searchParams.customerName,\n        brandId: this.searchOptions.searchParams.brandName === \"\" ? null : this.searchOptions.searchParams.brandName,\n        id: this.searchOptions.searchParams.predictPlanName === \"\" ? null : this.searchOptions.searchParams.predictPlanName,\n        clothingLevelId: this.searchOptions.searchParams.clothingLevelName === \"\" ? null : this.searchOptions.searchParams.clothingLevelName,\n        startDate: this.changeDate(this.searchOptions.searchParams.dateRange[0]),\n        endDate: this.changeDate(this.searchOptions.searchParams.dateRange[1])\n      };\n      console.log(params);\n\n      //获取计划列表\n      this.$axios.get(window.$config.HOST + \"/infoManagement/getPlanList\", params).then(function (response) {\n        if (response.data.errcode < 0) {\n          console.log(\"计划列表获取错误\");\n          return;\n        }\n        response.data.forEach(function (element) {\n          if (element.type === 1 && element.state === 2) {\n            _this2.totalTableData.push(element);\n          }\n\n          _this2.pagination.total = _this2.totalTableData.length;\n          _this2.pagination.currentPage = 1;\n          var pageEleStart = (_this2.pagination.currentPage - 1) * _this2.pagination.pageSize;\n          var pageEleEnd = pageEleStart + _this2.pagination.pageSize > _this2.pagination.total ? _this2.pagination.total : pageEleStart + _this2.pagination.pageSize;\n          _this2.tableData = _this2.totalTableData.slice(pageEleStart, pageEleEnd);\n        });\n      }).catch(function (error) {\n        console.log(\"计划列表获取错误\");\n      });\n    },\n    inspectDetail: function inspectDetail(row) {\n      param = {\n        flag: 0,\n        goback: \"predictPlanMade\",\n        client: row.customerName,\n        brand: row.brandName,\n        series: row.rangeName,\n        id: row.id,\n        plantype: row.type,\n        planobj: row.planObject,\n        TopPlan: row.parentId,\n        TopPlanName: row.parentName ? row.parentName : \"根计划\",\n        planName: row.name,\n        projectType: row.projectType,\n        number: row.number,\n        dataStart: row.startDate,\n        dataEnd: row.endDate,\n        productDate: row.productDate,\n        productDateType: row.productDateType,\n        productId: row.productId,\n        proposal: row.proposal,\n        note: row.note,\n        description: row.description\n      };\n      that.$router.push({\n        name: \"planMakeIndex\",\n        params: param\n      });\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 405:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(123)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".box-card[data-v-38a54436]{margin:20px 50px;padding:0 20px}.box-card .bar[data-v-38a54436]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%}.box-card .bar .title[data-v-38a54436]{font-size:14px;min-width:75px;text-align:center}.box-card .bar .el-input[data-v-38a54436],.box-card .bar .el-select[data-v-38a54436]{width:300px;min-width:75px}.box-card .block[data-v-38a54436]{padding:30px 0;text-align:center}\", \"\", {\"version\":3,\"sources\":[\"/home/titanxu/Desktop/planui/src/page/planManagement/predictPlanMade.vue\"],\"names\":[],\"mappings\":\"AACA,2BACE,iBAAkB,AAClB,cAAgB,CACjB,AACD,gCACE,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,8BAA+B,AAC/B,6BAA8B,AAC1B,uBAAwB,AACpB,mBAAoB,AAC5B,yBAA0B,AACtB,sBAAuB,AACnB,mBAAoB,AAC5B,UAAY,CACb,AACD,uCACE,eAAgB,AAChB,eAAgB,AAChB,iBAAmB,CACpB,AAKD,qFAHE,YAAa,AACb,cAAgB,CAKjB,AACD,kCACE,eAAgB,AAChB,iBAAmB,CACpB\",\"file\":\"predictPlanMade.vue\",\"sourcesContent\":[\"\\n.box-card[data-v-38a54436] {\\n  margin: 20px 50px;\\n  padding: 0 20px;\\n}\\n.box-card .bar[data-v-38a54436] {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-orient: horizontal;\\n  -webkit-box-direction: normal;\\n      -ms-flex-direction: row;\\n          flex-direction: row;\\n  -webkit-box-align: center;\\n      -ms-flex-align: center;\\n          align-items: center;\\n  width: 100%;\\n}\\n.box-card .bar .title[data-v-38a54436] {\\n  font-size: 14px;\\n  min-width: 75px;\\n  text-align: center;\\n}\\n.box-card .bar .el-input[data-v-38a54436] {\\n  width: 300px;\\n  min-width: 75px;\\n}\\n.box-card .bar .el-select[data-v-38a54436] {\\n  width: 300px;\\n  min-width: 75px;\\n}\\n.box-card .block[data-v-38a54436] {\\n  padding: 30px 0;\\n  text-align: center;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 452:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(405);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(124)(\"2860c55e\", content, true);\n\n/***/ }),\n\n/***/ 521:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"body\"\n  }, [_c('el-card', {\n    staticClass: \"box-card\"\n  }, [_c('el-row', {\n    staticStyle: {\n      \"margin-top\": \"5px\"\n    },\n    attrs: {\n      \"gutter\": 20\n    }\n  }, [_c('el-col', {\n    attrs: {\n      \"span\": 8\n    }\n  }, [_c('div', {\n    staticClass: \"bar\"\n  }, [_c('div', {\n    staticClass: \"title\"\n  }, [_vm._v(\"客户名称\")]), _vm._v(\" \"), _c('el-select', {\n    attrs: {\n      \"clearable\": \"\"\n    },\n    model: {\n      value: (_vm.searchOptions.searchParams.customerName),\n      callback: function($$v) {\n        _vm.$set(_vm.searchOptions.searchParams, \"customerName\", $$v)\n      },\n      expression: \"searchOptions.searchParams.customerName\"\n    }\n  }, _vm._l((_vm.searchOptions.options.customerNameOptions), function(item) {\n    return _c('el-option', {\n      key: item.id,\n      attrs: {\n        \"label\": item.name,\n        \"value\": item.id\n      }\n    })\n  }))], 1)]), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 8\n    }\n  }, [_c('div', {\n    staticClass: \"bar\"\n  }, [_c('div', {\n    staticClass: \"title\"\n  }, [_vm._v(\"品牌\")]), _vm._v(\" \"), _c('el-select', {\n    attrs: {\n      \"clearable\": \"\"\n    },\n    model: {\n      value: (_vm.searchOptions.searchParams.brandName),\n      callback: function($$v) {\n        _vm.$set(_vm.searchOptions.searchParams, \"brandName\", $$v)\n      },\n      expression: \"searchOptions.searchParams.brandName\"\n    }\n  }, _vm._l((_vm.searchOptions.options.brandNameOptions), function(item) {\n    return _c('el-option', {\n      key: item.id,\n      attrs: {\n        \"label\": item.name,\n        \"value\": item.id\n      }\n    })\n  }))], 1)]), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 8\n    }\n  }, [_c('div', {\n    staticClass: \"bar\"\n  }, [_c('div', {\n    staticClass: \"title\"\n  }, [_vm._v(\"服装层次\")]), _vm._v(\" \"), _c('el-select', {\n    attrs: {\n      \"clearable\": \"\"\n    },\n    model: {\n      value: (_vm.searchOptions.searchParams.clothingLevelName),\n      callback: function($$v) {\n        _vm.$set(_vm.searchOptions.searchParams, \"clothingLevelName\", $$v)\n      },\n      expression: \"searchOptions.searchParams.clothingLevelName\"\n    }\n  }, _vm._l((_vm.searchOptions.options.clothingLevelOptions), function(item) {\n    return _c('el-option', {\n      key: item.id,\n      attrs: {\n        \"label\": item.name,\n        \"value\": item.id\n      }\n    })\n  }))], 1)])], 1), _vm._v(\" \"), _c('el-row', {\n    staticStyle: {\n      \"margin-top\": \"25px\",\n      \"margin-bottom\": \"5px\"\n    },\n    attrs: {\n      \"gutter\": 20\n    }\n  }, [_c('el-col', {\n    attrs: {\n      \"span\": 8\n    }\n  }, [_c('div', {\n    staticClass: \"bar\"\n  }, [_c('div', {\n    staticClass: \"title\"\n  }, [_vm._v(\"计划名称\")]), _vm._v(\" \"), _c('el-select', {\n    attrs: {\n      \"clearable\": \"\"\n    },\n    model: {\n      value: (_vm.searchOptions.searchParams.predictPlanName),\n      callback: function($$v) {\n        _vm.$set(_vm.searchOptions.searchParams, \"predictPlanName\", $$v)\n      },\n      expression: \"searchOptions.searchParams.predictPlanName\"\n    }\n  }, _vm._l((_vm.searchOptions.options.planNameOptions), function(item) {\n    return _c('el-option', {\n      key: item.id,\n      attrs: {\n        \"label\": item.name,\n        \"value\": item.id\n      }\n    })\n  }))], 1)]), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 13\n    }\n  }, [_c('div', {\n    staticClass: \"bar\"\n  }, [_c('div', {\n    staticClass: \"title\"\n  }, [_vm._v(\"制定时间\")]), _vm._v(\" \"), _c('el-date-picker', {\n    attrs: {\n      \"type\": \"daterange\",\n      \"start-placeholder\": \"开始日期\",\n      \"end-placeholder\": \"结束日期\",\n      \"default-time\": ['00:00:00', '23:59:59']\n    },\n    model: {\n      value: (_vm.searchOptions.searchParams.dateRange),\n      callback: function($$v) {\n        _vm.$set(_vm.searchOptions.searchParams, \"dateRange\", $$v)\n      },\n      expression: \"searchOptions.searchParams.dateRange\"\n    }\n  })], 1)]), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 1\n    }\n  }, [_c('div', {\n    staticClass: \"bar\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.handleSearch\n    }\n  }, [_vm._v(\"搜索\")])], 1)])], 1)], 1), _vm._v(\" \"), _c('el-card', {\n    staticClass: \"box-card\"\n  }, [_c('div', [_c('el-table', {\n    staticStyle: {\n      \"width\": \"100%\"\n    },\n    attrs: {\n      \"data\": _vm.tableData,\n      \"max-height\": \"550\",\n      \"stripe\": true\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"type\": \"selection\",\n      \"width\": \"50\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"type\": \"index\",\n      \"label\": \"序号\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), (false) ? _c('el-table-column', {\n    attrs: {\n      \"prop\": \"id\",\n      \"align\": \"center\"\n    }\n  }) : _vm._e(), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"number\",\n      \"label\": \"预测编号\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"name\",\n      \"label\": \"计划名称\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"rangeNumber\",\n      \"label\": \"系列编号\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"rangeName\",\n      \"label\": \"系列名称\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"customerName\",\n      \"label\": \"客户名称\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"brandName\",\n      \"label\": \"品牌\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"clothingLevelName\",\n      \"label\": \"服装层次\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"createrName\",\n      \"label\": \"添加人\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"deptName\",\n      \"label\": \"部门\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"fixed\": \"right\",\n      \"width\": \"150\",\n      \"align\": \"center\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('el-button', {\n          attrs: {\n            \"type\": \"text\",\n            \"size\": \"small\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.inspectDetail(scope.row)\n            }\n          }\n        }, [_vm._v(\"查看\")])]\n      }\n    }])\n  })], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"block\"\n  }, [_c('el-pagination', {\n    attrs: {\n      \"current-page\": _vm.pagination.currentPage,\n      \"page-sizes\": _vm.pagination.pageSizes,\n      \"page-size\": _vm.pagination.pageSize,\n      \"layout\": \"total, sizes, prev, pager, next, jumper\",\n      \"total\": _vm.pagination.total\n    },\n    on: {\n      \"size-change\": _vm.handleSizeChange,\n      \"current-change\": _vm.handleCurrentChange,\n      \"update:currentPage\": function($event) {\n        _vm.$set(_vm.pagination, \"currentPage\", $event)\n      }\n    }\n  })], 1)])], 1)\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/16.8b3a79db9f6cb74f2c66.js","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-38a54436\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./predictPlanMade.vue\")\n}\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./predictPlanMade.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-38a54436\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./predictPlanMade.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-38a54436\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/planManagement/predictPlanMade.vue\n// module id = 156\n// module chunks = 16","<template>\r\n  <div class=\"body\">\r\n    <el-card class=\"box-card\">\r\n      <el-row :gutter=\"20\" style=\"margin-top:5px; \">\r\n        <el-col :span=\"8\">\r\n          <div class=\"bar\">\r\n            <div class=\"title\">客户名称</div>\r\n            <el-select v-model=\"searchOptions.searchParams.customerName\" clearable >\r\n              <el-option\r\n                v-for=\"item in searchOptions.options.customerNameOptions\"\r\n                :key=\"item.id\"\r\n                :label=\"item.name\"\r\n                :value=\"item.id\">\r\n              </el-option>\r\n            </el-select>\r\n          </div>\r\n        </el-col>\r\n\r\n        <el-col :span=\"8\">\r\n          <div class=\"bar\">\r\n            <div class=\"title\">品牌</div>\r\n            <el-select v-model=\"searchOptions.searchParams.brandName\" clearable >\r\n              <el-option\r\n                v-for=\"item in searchOptions.options.brandNameOptions\"\r\n                :key=\"item.id\"\r\n                :label=\"item.name\"\r\n                :value=\"item.id\">\r\n              </el-option>\r\n            </el-select>\r\n          </div>\r\n        </el-col>\r\n\r\n        <el-col :span=\"8\">\r\n          <div class=\"bar\">\r\n            <div class=\"title\">服装层次</div>\r\n            <el-select v-model=\"searchOptions.searchParams.clothingLevelName\" clearable >\r\n              <el-option\r\n                v-for=\"item in searchOptions.options.clothingLevelOptions\"\r\n                :key=\"item.id\"\r\n                :label=\"item.name\"\r\n                :value=\"item.id\">\r\n              </el-option>\r\n            </el-select>\r\n          </div>\r\n        </el-col>\r\n      </el-row>\r\n\r\n      <el-row :gutter=\"20\" style=\"margin-top: 25px; margin-bottom: 5px;\">\r\n\r\n        <el-col :span=\"8\">\r\n          <div class=\"bar\">\r\n            <div class=\"title\">计划名称</div>\r\n            <el-select v-model=\"searchOptions.searchParams.predictPlanName\" clearable>\r\n              <el-option\r\n                v-for=\"item in searchOptions.options.planNameOptions\"\r\n                :key=\"item.id\"\r\n                :label=\"item.name\"\r\n                :value=\"item.id\"\r\n              ></el-option>\r\n            </el-select> \r\n          </div>\r\n        </el-col>\r\n\r\n        <el-col :span=\"13\">\r\n          <div class=\"bar\">\r\n            <div class=\"title\">制定时间</div>\r\n            <el-date-picker\r\n              v-model=\"searchOptions.searchParams.dateRange\"\r\n              type=\"daterange\"\r\n              start-placeholder=\"开始日期\"\r\n              end-placeholder=\"结束日期\"\r\n              :default-time=\"['00:00:00', '23:59:59']\">\r\n            </el-date-picker>\r\n          </div>\r\n        </el-col>\r\n        <el-col :span=\"1\">\r\n          <div class=\"bar\">\r\n            <el-button type=\"primary\" @click=\"handleSearch\">搜索</el-button>\r\n          </div>\r\n        </el-col>\r\n      </el-row>\r\n        \r\n        <!-- <el-col :span=\"16\">\r\n          <div class=\"bar\">\r\n            <div style=\"margin: 15px 0;\"></div>\r\n            <el-checkbox-group v-model=\"checkedCities\" @change=\"handleCheckedCitiesChange\">\r\n            <el-checkbox v-for=\"city in cities\" :label=\"city\" :key=\"city\">{{city}}</el-checkbox>\r\n            </el-checkbox-group>\r\n          </div>\r\n        </el-col> -->\r\n    </el-card>\r\n\r\n    <el-card class=\"box-card\">\r\n      <div>\r\n      <el-table :data=\"tableData\" max-height=\"550\" style=\"width : 100%\" :stripe=\"true\">\r\n        <el-table-column type=\"selection\" width=\"50\" align=\"center\"></el-table-column>\r\n        <el-table-column type=\"index\" label=\"序号\" align=\"center\"></el-table-column>\r\n        <el-table-column v-if=\"false\" prop=\"id\" align=\"center\"></el-table-column>\r\n        <el-table-column prop=\"number\" label=\"预测编号\" align=\"center\"></el-table-column>\r\n        <el-table-column prop=\"name\" label=\"计划名称\" align=\"center\"></el-table-column>\r\n        <el-table-column prop=\"rangeNumber\" label=\"系列编号\" align=\"center\"></el-table-column>\r\n        <el-table-column prop=\"rangeName\" label=\"系列名称\" align=\"center\"></el-table-column>\r\n        <el-table-column prop=\"customerName\" label=\"客户名称\" align=\"center\"></el-table-column>\r\n        <el-table-column prop=\"brandName\" label=\"品牌\" align=\"center\"></el-table-column>\r\n        <el-table-column prop=\"clothingLevelName\" label=\"服装层次\" align=\"center\"></el-table-column>\r\n        <el-table-column prop=\"createrName\" label=\"添加人\" align=\"center\"></el-table-column>\r\n        <el-table-column prop=\"deptName\" label=\"部门\" align=\"center\"></el-table-column>\r\n        <!-- <el-table-column prop=\"statue\" label=\"状态\" align=\"center\"></el-table-column> -->\r\n        <!-- <el-table-column prop=\"note\" label=\"操作\" align=\"center\"></el-table-column> -->\r\n\r\n        <el-table-column  fixed=\"right\" width=\"150\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button @click=\"inspectDetail(scope.row)\" type=\"text\" size=\"small\">查看</el-button>\r\n\r\n          </template>\r\n        </el-table-column>\r\n\r\n      </el-table>\r\n      </div>\r\n     <!-- 分页 -->\r\n        <div class=\"block\">\r\n          <el-pagination\r\n            @size-change=\"handleSizeChange\"\r\n            @current-change=\"handleCurrentChange\"\r\n            :current-page.sync=\"pagination.currentPage\"\r\n            :page-sizes=\"pagination.pageSizes\"\r\n            :page-size=\"pagination.pageSize\"\r\n            layout=\"total, sizes, prev, pager, next, jumper\"\r\n            :total=\"pagination.total\"\r\n          ></el-pagination>\r\n        </div>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      searchOptions: {\r\n        searchParams: {\r\n          customerName: \"\",\r\n          brandName: \"\",\r\n          clothingLevel: \"\",\r\n          rangeName: \"\",\r\n          predictPlanName:\"\",\r\n          dateRange: \"\"\r\n        },\r\n        options: {\r\n          customerNameOptions: [],\r\n          brandNameOptions: [],\r\n          clothingLevelOptions: [],\r\n          rangeNameOptions:[],\r\n          planNameOptions:[],\r\n        }\r\n      },\r\n      totalTableData:[],\r\n      tableData: [],\r\n      // checked: true,\r\n      pages: 0,\r\n      pagination: {\r\n        currentPage: 1,\r\n        pageSizes: [10, 20, 30, 40, 50],\r\n        pageSize: 10,\r\n        total: 0,\r\n      },\r\n    }\r\n  },\r\n  created: function () {\r\n    const that = this;\r\n    console.log('进入一提交计划页面');\r\n\r\n    //获取客户名称\r\n    this.$axios\r\n      .get(`${window.$config.HOST}/baseInfoManagement/getCustomerName`)\r\n      .then(response => {\r\n        this.searchOptions.options.customerNameOptions = response.data;\r\n      })\r\n      .catch(error => {\r\n        console.log(\"初始化获取客户名称失败\");\r\n      });\r\n\r\n    //获取服装层次\r\n    that.$axios\r\n      .get(`${window.$config.HOST}/baseInfoManagement/getClothingLevelName`)\r\n      .then(response => {\r\n        this.searchOptions.options.clothingLevelOptions = response.data;\r\n      })\r\n      .catch(error => {\r\n        console.log(\"初始化获取服装层次失败\");\r\n      });\r\n\r\n    //品牌名称选择获取\r\n    this.$axios\r\n      .get(`${window.$config.HOST}/baseInfoManagement/getBrandName`,{customerId:null})\r\n      .then(response => {\r\n         this.searchOptions.options.brandNameOptions = response.data;\r\n      })\r\n      .catch(error => {\r\n        console.log(\"初始化品牌名称选择错误\");\r\n      });\r\n\r\n    //默认获取计划列表\r\n    this.$axios\r\n      .get(`${window.$config.HOST}/planManagement/getPlanList`,{\r\n        params: {\r\n          stage: \"predict\"\r\n        }\r\n      })\r\n      .then(response => {\r\n        response.data.forEach(element=>{\r\n          if(element.type === 1 && element.state === 2){\r\n            this.totalTableData.push(element);\r\n          }\r\n        });\r\n\r\n        this.pagination.total = this.totalTableData.length;\r\n        // this.pagination.currentPage = 1;\r\n        var pageEleStart = (this.pagination.currentPage-1)*this.pagination.pageSize;\r\n        var pageEleEnd = (pageEleStart+this.pagination.pageSize)> this.pagination.total?this.pagination.total:(pageEleStart+this.pagination.pageSize);\r\n        this.tableData = this.totalTableData.slice(pageEleStart, pageEleEnd);\r\n        \r\n      })\r\n      .catch(error => {\r\n        console.log(\"初始化计划列表获取错误\");\r\n      });\r\n  },\r\n  methods: {\r\n    // 每页条数改变时触发函数\r\n    handleSizeChange(val) {\r\n      this.pagination.pageSize = val;\r\n      console.log(`每页 ${val} 条`);\r\n\r\n      this.pagination.currentPage = 1;\r\n      this.handleSearch();\r\n    },\r\n    // 当前页码改变时触发函数\r\n    handleCurrentChange(val) {\r\n      console.log(`当前页: ${val}`);\r\n      this.pagination.currentPage = val;\r\n      this.handleSearch();\r\n    },\r\n    // 改变日期格式\r\n    changeDate(date) {\r\n      if(!date){\r\n        return \"\";\r\n      }else{\r\n        console.log(date);\r\n        var y = date.getFullYear();\r\n        var m = date.getMonth() + 1;\r\n        m = m < 10 ? \"0\" + m : m;\r\n        var d = date.getDate();\r\n        d = d < 10 ? \"0\" + d : d;\r\n        var h = date.getHours();\r\n        var minute = date.getMinutes();\r\n        minute = minute < 10 ? \"0\" + minute : minute;\r\n        var second = date.getSeconds();\r\n        second = minute < 10 ? \"0\" + second : second;\r\n        return y + \"-\" + m + \"-\" + d + \" \" + h + \":\" + minute + \":\" + second;\r\n      }\r\n    },\r\n    handleSearch(){\r\n      var params = {\r\n        customerId: (this.searchOptions.searchParams.customerName===\"\")?null:this.searchOptions.searchParams.customerName, \r\n        brandId: (this.searchOptions.searchParams.brandName===\"\")?null:this.searchOptions.searchParams.brandName, \r\n        id: (this.searchOptions.searchParams.predictPlanName===\"\")?null:this.searchOptions.searchParams.predictPlanName, \r\n        clothingLevelId :(this.searchOptions.searchParams.clothingLevelName===\"\")?null:this.searchOptions.searchParams.clothingLevelName, \r\n        startDate: this.changeDate(this.searchOptions.searchParams.dateRange[0]),\r\n        endDate: this.changeDate(this.searchOptions.searchParams.dateRange[1]),\r\n      };\r\n      console.log(params);\r\n\r\n      //获取计划列表\r\n      this.$axios\r\n        .get(`${window.$config.HOST}/infoManagement/getPlanList`,params)\r\n        .then(response => {\r\n          if(response.data.errcode < 0){\r\n            console.log(\"计划列表获取错误\");\r\n            return ;\r\n          }\r\n          response.data.forEach(element=>{\r\n            if(element.type === 1 && element.state === 2){\r\n              this.totalTableData.push(element);\r\n            }\r\n\r\n            this.pagination.total = this.totalTableData.length;\r\n            this.pagination.currentPage = 1;\r\n            var pageEleStart = (this.pagination.currentPage-1)*this.pagination.pageSize;\r\n            var pageEleEnd = (pageEleStart+this.pagination.pageSize)> this.pagination.total?this.pagination.total:(pageEleStart+this.pagination.pageSize);\r\n            this.tableData = this.totalTableData.slice(pageEleStart, pageEleEnd);\r\n          });\r\n        })\r\n        .catch(error => {\r\n          console.log(\"计划列表获取错误\");\r\n        });\r\n    },\r\n    inspectDetail(row){\r\n      param={\r\n        flag: 0,\r\n        goback: \"predictPlanMade\",\r\n        client: row.customerName,\r\n        brand: row.brandName,\r\n        series: row.rangeName,\r\n        id:row.id,\r\n        plantype: row.type,\r\n        planobj: row.planObject,\r\n        TopPlan: row.parentId,\r\n        TopPlanName: row.parentName?row.parentName:\"根计划\",\r\n        planName:row.name,\r\n        projectType:row.projectType,\r\n        number:row.number,\r\n        dataStart:row.startDate,\r\n        dataEnd:row.endDate,\r\n        productDate:row.productDate,\r\n        productDateType:row.productDateType,\r\n        productId:row.productId,\r\n        proposal:row.proposal,\r\n        note:row.note,\r\n        description:row.description,\r\n      };\r\n      that.$router.push({\r\n        name: \"planMakeIndex\",\r\n        params: param\r\n      });\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.box-card {\r\n  margin: 20px 50px;\r\n  padding: 0 20px;\r\n  .bar {\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n    width: 100%;\r\n    .title {\r\n      font-size: 14px;\r\n      min-width: 75px;\r\n      text-align: center;\r\n    }\r\n    .el-input {\r\n      width: 300px;\r\n      min-width: 75px;\r\n      // margin: 5px 10px;\r\n    }\r\n    .el-select {\r\n      width: 300px;\r\n      min-width: 75px;\r\n      // margin: 5px 10px;\r\n    }\r\n  }\r\n  .block {\r\n    padding: 30px 0;\r\n    text-align: center;\r\n    //border-right: solid 1px #EFF2F6;\r\n    //display: inline-block;\r\n    //box-sizing: border-box;\r\n  }\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// predictPlanMade.vue?f959b5e8","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".box-card[data-v-38a54436]{margin:20px 50px;padding:0 20px}.box-card .bar[data-v-38a54436]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%}.box-card .bar .title[data-v-38a54436]{font-size:14px;min-width:75px;text-align:center}.box-card .bar .el-input[data-v-38a54436],.box-card .bar .el-select[data-v-38a54436]{width:300px;min-width:75px}.box-card .block[data-v-38a54436]{padding:30px 0;text-align:center}\", \"\", {\"version\":3,\"sources\":[\"/home/titanxu/Desktop/planui/src/page/planManagement/predictPlanMade.vue\"],\"names\":[],\"mappings\":\"AACA,2BACE,iBAAkB,AAClB,cAAgB,CACjB,AACD,gCACE,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,8BAA+B,AAC/B,6BAA8B,AAC1B,uBAAwB,AACpB,mBAAoB,AAC5B,yBAA0B,AACtB,sBAAuB,AACnB,mBAAoB,AAC5B,UAAY,CACb,AACD,uCACE,eAAgB,AAChB,eAAgB,AAChB,iBAAmB,CACpB,AAKD,qFAHE,YAAa,AACb,cAAgB,CAKjB,AACD,kCACE,eAAgB,AAChB,iBAAmB,CACpB\",\"file\":\"predictPlanMade.vue\",\"sourcesContent\":[\"\\n.box-card[data-v-38a54436] {\\n  margin: 20px 50px;\\n  padding: 0 20px;\\n}\\n.box-card .bar[data-v-38a54436] {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-orient: horizontal;\\n  -webkit-box-direction: normal;\\n      -ms-flex-direction: row;\\n          flex-direction: row;\\n  -webkit-box-align: center;\\n      -ms-flex-align: center;\\n          align-items: center;\\n  width: 100%;\\n}\\n.box-card .bar .title[data-v-38a54436] {\\n  font-size: 14px;\\n  min-width: 75px;\\n  text-align: center;\\n}\\n.box-card .bar .el-input[data-v-38a54436] {\\n  width: 300px;\\n  min-width: 75px;\\n}\\n.box-card .bar .el-select[data-v-38a54436] {\\n  width: 300px;\\n  min-width: 75px;\\n}\\n.box-card .block[data-v-38a54436] {\\n  padding: 30px 0;\\n  text-align: center;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-38a54436\",\"scoped\":true,\"hasInlineConfig\":false}!./~/less-loader/dist/cjs.js?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/page/planManagement/predictPlanMade.vue\n// module id = 405\n// module chunks = 16","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-38a54436\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/less-loader/dist/cjs.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./predictPlanMade.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"2860c55e\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-38a54436\",\"scoped\":true,\"hasInlineConfig\":false}!./~/less-loader/dist/cjs.js?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/page/planManagement/predictPlanMade.vue\n// module id = 452\n// module chunks = 16","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"body\"\n  }, [_c('el-card', {\n    staticClass: \"box-card\"\n  }, [_c('el-row', {\n    staticStyle: {\n      \"margin-top\": \"5px\"\n    },\n    attrs: {\n      \"gutter\": 20\n    }\n  }, [_c('el-col', {\n    attrs: {\n      \"span\": 8\n    }\n  }, [_c('div', {\n    staticClass: \"bar\"\n  }, [_c('div', {\n    staticClass: \"title\"\n  }, [_vm._v(\"客户名称\")]), _vm._v(\" \"), _c('el-select', {\n    attrs: {\n      \"clearable\": \"\"\n    },\n    model: {\n      value: (_vm.searchOptions.searchParams.customerName),\n      callback: function($$v) {\n        _vm.$set(_vm.searchOptions.searchParams, \"customerName\", $$v)\n      },\n      expression: \"searchOptions.searchParams.customerName\"\n    }\n  }, _vm._l((_vm.searchOptions.options.customerNameOptions), function(item) {\n    return _c('el-option', {\n      key: item.id,\n      attrs: {\n        \"label\": item.name,\n        \"value\": item.id\n      }\n    })\n  }))], 1)]), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 8\n    }\n  }, [_c('div', {\n    staticClass: \"bar\"\n  }, [_c('div', {\n    staticClass: \"title\"\n  }, [_vm._v(\"品牌\")]), _vm._v(\" \"), _c('el-select', {\n    attrs: {\n      \"clearable\": \"\"\n    },\n    model: {\n      value: (_vm.searchOptions.searchParams.brandName),\n      callback: function($$v) {\n        _vm.$set(_vm.searchOptions.searchParams, \"brandName\", $$v)\n      },\n      expression: \"searchOptions.searchParams.brandName\"\n    }\n  }, _vm._l((_vm.searchOptions.options.brandNameOptions), function(item) {\n    return _c('el-option', {\n      key: item.id,\n      attrs: {\n        \"label\": item.name,\n        \"value\": item.id\n      }\n    })\n  }))], 1)]), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 8\n    }\n  }, [_c('div', {\n    staticClass: \"bar\"\n  }, [_c('div', {\n    staticClass: \"title\"\n  }, [_vm._v(\"服装层次\")]), _vm._v(\" \"), _c('el-select', {\n    attrs: {\n      \"clearable\": \"\"\n    },\n    model: {\n      value: (_vm.searchOptions.searchParams.clothingLevelName),\n      callback: function($$v) {\n        _vm.$set(_vm.searchOptions.searchParams, \"clothingLevelName\", $$v)\n      },\n      expression: \"searchOptions.searchParams.clothingLevelName\"\n    }\n  }, _vm._l((_vm.searchOptions.options.clothingLevelOptions), function(item) {\n    return _c('el-option', {\n      key: item.id,\n      attrs: {\n        \"label\": item.name,\n        \"value\": item.id\n      }\n    })\n  }))], 1)])], 1), _vm._v(\" \"), _c('el-row', {\n    staticStyle: {\n      \"margin-top\": \"25px\",\n      \"margin-bottom\": \"5px\"\n    },\n    attrs: {\n      \"gutter\": 20\n    }\n  }, [_c('el-col', {\n    attrs: {\n      \"span\": 8\n    }\n  }, [_c('div', {\n    staticClass: \"bar\"\n  }, [_c('div', {\n    staticClass: \"title\"\n  }, [_vm._v(\"计划名称\")]), _vm._v(\" \"), _c('el-select', {\n    attrs: {\n      \"clearable\": \"\"\n    },\n    model: {\n      value: (_vm.searchOptions.searchParams.predictPlanName),\n      callback: function($$v) {\n        _vm.$set(_vm.searchOptions.searchParams, \"predictPlanName\", $$v)\n      },\n      expression: \"searchOptions.searchParams.predictPlanName\"\n    }\n  }, _vm._l((_vm.searchOptions.options.planNameOptions), function(item) {\n    return _c('el-option', {\n      key: item.id,\n      attrs: {\n        \"label\": item.name,\n        \"value\": item.id\n      }\n    })\n  }))], 1)]), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 13\n    }\n  }, [_c('div', {\n    staticClass: \"bar\"\n  }, [_c('div', {\n    staticClass: \"title\"\n  }, [_vm._v(\"制定时间\")]), _vm._v(\" \"), _c('el-date-picker', {\n    attrs: {\n      \"type\": \"daterange\",\n      \"start-placeholder\": \"开始日期\",\n      \"end-placeholder\": \"结束日期\",\n      \"default-time\": ['00:00:00', '23:59:59']\n    },\n    model: {\n      value: (_vm.searchOptions.searchParams.dateRange),\n      callback: function($$v) {\n        _vm.$set(_vm.searchOptions.searchParams, \"dateRange\", $$v)\n      },\n      expression: \"searchOptions.searchParams.dateRange\"\n    }\n  })], 1)]), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 1\n    }\n  }, [_c('div', {\n    staticClass: \"bar\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.handleSearch\n    }\n  }, [_vm._v(\"搜索\")])], 1)])], 1)], 1), _vm._v(\" \"), _c('el-card', {\n    staticClass: \"box-card\"\n  }, [_c('div', [_c('el-table', {\n    staticStyle: {\n      \"width\": \"100%\"\n    },\n    attrs: {\n      \"data\": _vm.tableData,\n      \"max-height\": \"550\",\n      \"stripe\": true\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"type\": \"selection\",\n      \"width\": \"50\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"type\": \"index\",\n      \"label\": \"序号\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), (false) ? _c('el-table-column', {\n    attrs: {\n      \"prop\": \"id\",\n      \"align\": \"center\"\n    }\n  }) : _vm._e(), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"number\",\n      \"label\": \"预测编号\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"name\",\n      \"label\": \"计划名称\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"rangeNumber\",\n      \"label\": \"系列编号\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"rangeName\",\n      \"label\": \"系列名称\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"customerName\",\n      \"label\": \"客户名称\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"brandName\",\n      \"label\": \"品牌\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"clothingLevelName\",\n      \"label\": \"服装层次\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"createrName\",\n      \"label\": \"添加人\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"deptName\",\n      \"label\": \"部门\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"fixed\": \"right\",\n      \"width\": \"150\",\n      \"align\": \"center\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('el-button', {\n          attrs: {\n            \"type\": \"text\",\n            \"size\": \"small\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.inspectDetail(scope.row)\n            }\n          }\n        }, [_vm._v(\"查看\")])]\n      }\n    }])\n  })], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"block\"\n  }, [_c('el-pagination', {\n    attrs: {\n      \"current-page\": _vm.pagination.currentPage,\n      \"page-sizes\": _vm.pagination.pageSizes,\n      \"page-size\": _vm.pagination.pageSize,\n      \"layout\": \"total, sizes, prev, pager, next, jumper\",\n      \"total\": _vm.pagination.total\n    },\n    on: {\n      \"size-change\": _vm.handleSizeChange,\n      \"current-change\": _vm.handleCurrentChange,\n      \"update:currentPage\": function($event) {\n        _vm.$set(_vm.pagination, \"currentPage\", $event)\n      }\n    }\n  })], 1)])], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-38a54436\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/page/planManagement/predictPlanMade.vue\n// module id = 521\n// module chunks = 16"],"sourceRoot":""}